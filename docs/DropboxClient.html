<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: DropboxClient</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./build/dropbox-ruby-sdk-1_6_2/lib/dropbox_sdk_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb">build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">CLASS</span> <a href="DropboxClient/ChunkedUploader.html">DropboxClient::ChunkedUploader</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-account_info">#account_info</a></li>
          
          <li><a href="#method-i-add_copy_ref">#add_copy_ref</a></li>
          
          <li><a href="#method-i-commit_chunked_upload">#commit_chunked_upload</a></li>
          
          <li><a href="#method-i-create_copy_ref">#create_copy_ref</a></li>
          
          <li><a href="#method-i-delta">#delta</a></li>
          
          <li><a href="#method-i-file_copy">#file_copy</a></li>
          
          <li><a href="#method-i-file_create_folder">#file_create_folder</a></li>
          
          <li><a href="#method-i-file_delete">#file_delete</a></li>
          
          <li><a href="#method-i-file_move">#file_move</a></li>
          
          <li><a href="#method-i-get_chunked_uploader">#get_chunked_uploader</a></li>
          
          <li><a href="#method-i-get_file">#get_file</a></li>
          
          <li><a href="#method-i-get_file_and_metadata">#get_file_and_metadata</a></li>
          
          <li><a href="#method-i-media">#media</a></li>
          
          <li><a href="#method-i-metadata">#metadata</a></li>
          
          <li><a href="#method-i-partial_chunked_upload">#partial_chunked_upload</a></li>
          
          <li><a href="#method-i-put_file">#put_file</a></li>
          
          <li><a href="#method-i-restore">#restore</a></li>
          
          <li><a href="#method-i-revisions">#revisions</a></li>
          
          <li><a href="#method-i-search">#search</a></li>
          
          <li><a href="#method-i-shares">#shares</a></li>
          
          <li><a href="#method-i-thumbnail">#thumbnail</a></li>
          
          <li><a href="#method-i-thumbnail_and_metadata">#thumbnail_and_metadata</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./DropboxOAuth2Flow.html">DropboxOAuth2Flow</a></li>
        
          <li><a href="./DropboxOAuth2Flow/BadRequestError.html">DropboxOAuth2Flow::BadRequestError</a></li>
        
          <li><a href="./DropboxOAuth2Flow/BadStateError.html">DropboxOAuth2Flow::BadStateError</a></li>
        
          <li><a href="./DropboxOAuth2Flow/CsrfError.html">DropboxOAuth2Flow::CsrfError</a></li>
        
          <li><a href="./DropboxOAuth2Flow/NotApprovedError.html">DropboxOAuth2Flow::NotApprovedError</a></li>
        
          <li><a href="./DropboxOAuth2Flow/ProviderError.html">DropboxOAuth2Flow::ProviderError</a></li>
        
          <li><a href="./DropboxClient.html">DropboxClient</a></li>
        
          <li><a href="./DropboxClient/ChunkedUploader.html">DropboxClient::ChunkedUploader</a></li>
        
          <li><a href="./DropboxAuthError.html">DropboxAuthError</a></li>
        
          <li><a href="./DropboxError.html">DropboxError</a></li>
        
          <li><a href="./DropboxNotModified.html">DropboxNotModified</a></li>
        
          <li><a href="./DropboxOAuth2FlowNoRedirect.html">DropboxOAuth2FlowNoRedirect</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">DropboxClient</h1>

    <div id="description" class="description">
      
<p>Use this class to make Dropbox API calls.  You’ll need to obtain an OAuth 2
access token first; you can get one using either <a
href="DropboxOAuth2Flow.html">DropboxOAuth2Flow</a> or <a
href="DropboxOAuth2FlowNoRedirect.html">DropboxOAuth2FlowNoRedirect</a>.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(oauth2_access_token, root="auto", locale=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Args:</p>
<ul><li>
<p><tt>oauth2_access_token</tt>: Obtained via <a
href="DropboxOAuth2Flow.html">DropboxOAuth2Flow</a> or <a
href="DropboxOAuth2FlowNoRedirect.html">DropboxOAuth2FlowNoRedirect</a>.</p>
</li><li>
<p><tt>locale</tt>: The user's current locale (used to localize error
messages).</p>
</li></ul>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 681</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">oauth2_access_token</span>, <span class="ruby-identifier">root</span>=<span class="ruby-string">&quot;auto&quot;</span>, <span class="ruby-identifier">locale</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">oauth2_access_token</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
        <span class="ruby-ivar">@session</span> = <span class="ruby-constant">DropboxOAuth2Session</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">oauth2_access_token</span>, <span class="ruby-identifier">locale</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">oauth2_access_token</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">DropboxSession</span>)
        <span class="ruby-ivar">@session</span> = <span class="ruby-identifier">oauth2_access_token</span>
        <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">get_access_token</span>
        <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">nil?</span>
            <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">locale</span> = <span class="ruby-identifier">locale</span>
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;oauth2_access_token doesn't have a valid type&quot;</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@root</span> = <span class="ruby-identifier">root</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment"># If they passed in a symbol, make it a string</span>

    <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> [<span class="ruby-string">&quot;dropbox&quot;</span>,<span class="ruby-string">&quot;app_folder&quot;</span>,<span class="ruby-string">&quot;auto&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@root</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;root must be :dropbox, :app_folder, or :auto&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@root</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;app_folder&quot;</span>
        <span class="ruby-comment">#App Folder is the name of the access type, but for historical reasons</span>
        <span class="ruby-comment">#sandbox is the URL root component that indicates this</span>
        <span class="ruby-ivar">@root</span> = <span class="ruby-string">&quot;sandbox&quot;</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="account_info-method" class="method-detail ">
          <a name="method-i-account_info"></a>

          
          <div class="method-heading">
            <span class="method-name">account_info</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns some information about the current user’s Dropbox account (the
“current user” is the user associated with the access token you’re using).</p>

<p>For a detailed description of what this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#account-info">www.dropbox.com/developers/reference/api#account-info</a></p>
            

            
            <div class="method-source-code" id="account_info-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 711</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">account_info</span>()
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-string">&quot;/account/info&quot;</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- account_info-source -->
            
          </div>

          

          
        </div><!-- account_info-method -->

      
        <div id="add_copy_ref-method" class="method-detail ">
          <a name="method-i-add_copy_ref"></a>

          
          <div class="method-heading">
            <span class="method-name">add_copy_ref</span><span
              class="method-args">(to_path, copy_ref)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Adds the file referenced by the copy ref to the specified path</p>

<p>Args:</p>
<ul><li>
<p><tt>copy_ref</tt>: A copy ref string that was returned from a <a
href="DropboxClient.html#method-i-create_copy_ref">create_copy_ref</a>
call. The copy_ref can be created from any other Dropbox account, or from
the same account.</p>
</li><li>
<p><tt>to_path</tt>: The path to where the file will be created.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A hash with the metadata of the new file.</p>
</li></ul>
            

            
            <div class="method-source-code" id="add_copy_ref-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_copy_ref</span>(<span class="ruby-identifier">to_path</span>, <span class="ruby-identifier">copy_ref</span>)
    <span class="ruby-identifier">params</span> = {<span class="ruby-string">'from_copy_ref'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">copy_ref</span>,
              <span class="ruby-string">'to_path'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{to_path}&quot;</span>,
              <span class="ruby-string">'root'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@root</span>}

    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-string">&quot;/fileops/copy&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- add_copy_ref-source -->
            
          </div>

          

          
        </div><!-- add_copy_ref-method -->

      
        <div id="commit_chunked_upload-method" class="method-detail ">
          <a name="method-i-commit_chunked_upload"></a>

          
          <div class="method-heading">
            <span class="method-name">commit_chunked_upload</span><span
              class="method-args">(to_path, upload_id, overwrite=false, parent_rev=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="commit_chunked_upload-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 847</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">commit_chunked_upload</span>(<span class="ruby-identifier">to_path</span>, <span class="ruby-identifier">upload_id</span>, <span class="ruby-identifier">overwrite</span>=<span class="ruby-keyword">false</span>, <span class="ruby-identifier">parent_rev</span>=<span class="ruby-keyword">nil</span>)  <span class="ruby-comment">#:nodoc</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;/commit_chunked_upload/#{@root}#{format_path(to_path)}&quot;</span>
    <span class="ruby-identifier">params</span> = {<span class="ruby-string">'overwrite'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">overwrite</span>.<span class="ruby-identifier">to_s</span>,
              <span class="ruby-string">'upload_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">upload_id</span>,
              <span class="ruby-string">'parent_rev'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">parent_rev</span>,
            }
    <span class="ruby-identifier">headers</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">content_server</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-identifier">content_server</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- commit_chunked_upload-source -->
            
          </div>

          

          
        </div><!-- commit_chunked_upload-method -->

      
        <div id="create_copy_ref-method" class="method-detail ">
          <a name="method-i-create_copy_ref"></a>

          
          <div class="method-heading">
            <span class="method-name">create_copy_ref</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Creates and returns a copy ref for a specific file.  The copy ref can be
used to instantly copy that file to the Dropbox of another account.</p>

<p>Args:</p>
<ul><li>
<p><tt>path</tt>: The path to the file for a copy ref to be created on.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object that looks like the following example:</p>

<pre>{&quot;expires&quot;=&gt;&quot;Fri, 31 Jan 2042 21:01:05 +0000&quot;, &quot;copy_ref&quot;=&gt;&quot;z1X6ATl6aWtzOGq0c3g5Ng&quot;}</pre>
</li></ul>
            

            
            <div class="method-source-code" id="create_copy_ref-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_copy_ref</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;/copy_ref/#{@root}#{format_path(path)}&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-identifier">path</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- create_copy_ref-source -->
            
          </div>

          

          
        </div><!-- create_copy_ref-method -->

      
        <div id="delta-method" class="method-detail ">
          <a name="method-i-delta"></a>

          
          <div class="method-heading">
            <span class="method-name">delta</span><span
              class="method-args">(cursor=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>A way of letting you keep a local representation of the Dropbox folder
heirarchy.  You can periodically call delta() to get a list of “delta
entries”, which are instructions on how to update your local state to match
the server’s state.</p>

<p>Arguments:</p>
<ul><li>
<p><tt>cursor</tt>: On the first call, omit this argument (or pass in
<tt>nil</tt>).  On subsequent calls, pass in the <tt>cursor</tt> string
returned by the previous call.</p>
</li></ul>

<p>Returns: A hash with three fields.</p>
<ul><li>
<p><tt>entries</tt>: A list of "delta entries" (described below)</p>
</li><li>
<p><tt>reset</tt>: If <tt>true</tt>, you should reset local state to be an
empty folder before processing the list of delta entries.  This is only
<tt>true</tt> only in rare situations.</p>
</li><li>
<p><tt>cursor</tt>: A string that is used to keep track of your current state.
On the next call to delta(), pass in this value to return entries that were
recorded since the cursor was returned.</p>
</li><li>
<p><tt>has_more</tt>: If <tt>true</tt>, then there are more entries available;
you can call delta() again immediately to retrieve those entries.  If
<tt>false</tt>, then wait at least 5 minutes (preferably longer) before
checking again.</p>
</li></ul>

<p>Delta Entries: Each entry is a 2-item list of one of following forms:</p>
<ul><li>
<p>[<em>path</em>, <em>metadata</em>]: Indicates that there is a file/folder
at the given path.  You should add the entry to your local state.  (The
<em>metadata</em> value is the same as what would be returned by the <a
href="DropboxClient.html#method-i-metadata">metadata()</a> call.)</p>
<ul><li>
<p>If the path refers to parent folders that don’t yet exist in your local
state, create those parent folders in your local state.  You will
eventually get entries for those parent folders.</p>
</li><li>
<p>If the new entry is a file, replace whatever your local state has at
<em>path</em> with the new entry.</p>
</li><li>
<p>If the new entry is a folder, check what your local state has at
<em>path</em>.  If it’s a file, replace it with the new entry.  If it’s a
folder, apply the new <em>metadata</em> to the folder, but do not modify
the folder’s children.</p>
</li></ul>
</li><li>
<p>[path, <tt>nil</tt>]: Indicates that there is no file/folder at the
<em>path</em> on Dropbox.  To update your local state to match, delete
whatever is at <em>path</em>, including any children (you will sometimes
also get separate delta entries for each child, but this is not
guaranteed).  If your local state doesn’t have anything at <em>path</em>,
ignore this entry.</p>
</li></ul>

<p>Remember: Dropbox treats file names in a case-insensitive but
case-preserving way.  To facilitate this, the <em>path</em> strings above
are lower-cased versions of the actual path.  The <em>metadata</em> dicts
have the original, case-preserved path.</p>
            

            
            <div class="method-source-code" id="delta-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1234</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delta</span>(<span class="ruby-identifier">cursor</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">'cursor'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cursor</span>,
    }

    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-string">&quot;/delta&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- delta-source -->
            
          </div>

          

          
        </div><!-- delta-method -->

      
        <div id="file_copy-method" class="method-detail ">
          <a name="method-i-file_copy"></a>

          
          <div class="method-heading">
            <span class="method-name">file_copy</span><span
              class="method-args">(from_path, to_path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Copy a file or folder to a new location.</p>

<p>Args:</p>
<ul><li>
<p><tt>from_path</tt>: The path to the file or folder to be copied.</p>
</li><li>
<p><tt>to_path</tt>: The destination path of the file or folder to be copied.
This parameter should include the destination filename (e.g. from_path:
'/test.txt', to_path: '/dir/test.txt'). If there's already a file at the
to_path, this copy will be renamed to be unique.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A hash with the metadata of the new copy of the file or folder. For a
detailed description of what this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#fileops-copy">www.dropbox.com/developers/reference/api#fileops-copy</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="file_copy-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 949</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file_copy</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">to_path</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">&quot;root&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@root</span>,
        <span class="ruby-string">&quot;from_path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">format_path</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-keyword">false</span>),
        <span class="ruby-string">&quot;to_path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">format_path</span>(<span class="ruby-identifier">to_path</span>, <span class="ruby-keyword">false</span>),
    }
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-string">&quot;/fileops/copy&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- file_copy-source -->
            
          </div>

          

          
        </div><!-- file_copy-method -->

      
        <div id="file_create_folder-method" class="method-detail ">
          <a name="method-i-file_create_folder"></a>

          
          <div class="method-heading">
            <span class="method-name">file_create_folder</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a folder.</p>

<p>Arguments:</p>
<ul><li>
<p><tt>path</tt>: The path of the new folder.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A hash with the metadata of the newly created folder. For a detailed
description of what this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#fileops-create-folder">www.dropbox.com/developers/reference/api#fileops-create-folder</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="file_create_folder-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 968</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file_create_folder</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">&quot;root&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@root</span>,
        <span class="ruby-string">&quot;path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">format_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-keyword">false</span>),
    }
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-string">&quot;/fileops/create_folder&quot;</span>, <span class="ruby-identifier">params</span>

    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- file_create_folder-source -->
            
          </div>

          

          
        </div><!-- file_create_folder-method -->

      
        <div id="file_delete-method" class="method-detail ">
          <a name="method-i-file_delete"></a>

          
          <div class="method-heading">
            <span class="method-name">file_delete</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Deletes a file</p>

<p>Arguments:</p>
<ul><li>
<p><tt>path</tt>: The path of the file to delete</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash with the metadata of file just deleted. For a detailed description
of what this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#fileops-delete">www.dropbox.com/developers/reference/api#fileops-delete</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="file_delete-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 987</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file_delete</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">&quot;root&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@root</span>,
        <span class="ruby-string">&quot;path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">format_path</span>(<span class="ruby-identifier">path</span>, <span class="ruby-keyword">false</span>),
    }
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-string">&quot;/fileops/delete&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- file_delete-source -->
            
          </div>

          

          
        </div><!-- file_delete-method -->

      
        <div id="file_move-method" class="method-detail ">
          <a name="method-i-file_move"></a>

          
          <div class="method-heading">
            <span class="method-name">file_move</span><span
              class="method-args">(from_path, to_path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Moves a file</p>

<p>Arguments:</p>
<ul><li>
<p><tt>from_path</tt>: The path of the file to be moved</p>
</li><li>
<p><tt>to_path</tt>: The destination path of the file or folder to be moved If
the file or folder already exists, it will be renamed to be unique.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash with the metadata of file or folder just moved. For a detailed
description of what this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#fileops-delete">www.dropbox.com/developers/reference/api#fileops-delete</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="file_move-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1007</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file_move</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">to_path</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">&quot;root&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@root</span>,
        <span class="ruby-string">&quot;from_path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">format_path</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-keyword">false</span>),
        <span class="ruby-string">&quot;to_path&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">format_path</span>(<span class="ruby-identifier">to_path</span>, <span class="ruby-keyword">false</span>),
    }
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-string">&quot;/fileops/move&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- file_move-source -->
            
          </div>

          

          
        </div><!-- file_move-method -->

      
        <div id="get_chunked_uploader-method" class="method-detail ">
          <a name="method-i-get_chunked_uploader"></a>

          
          <div class="method-heading">
            <span class="method-name">get_chunked_uploader</span><span
              class="method-args">(file_obj, total_size)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a <a href="DropboxClient/ChunkedUploader.html">ChunkedUploader</a>
object.</p>

<p>Args:</p>
<ul><li>
<p><tt>file_obj</tt>: The file-like object to be uploaded.  Must support
.read()</p>
</li><li>
<p><tt>total_size</tt>: The total size of file_obj</p>
</li></ul>
            

            
            <div class="method-source-code" id="get_chunked_uploader-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 768</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_chunked_uploader</span>(<span class="ruby-identifier">file_obj</span>, <span class="ruby-identifier">total_size</span>)
    <span class="ruby-constant">ChunkedUploader</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">file_obj</span>, <span class="ruby-identifier">total_size</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_chunked_uploader-source -->
            
          </div>

          

          
        </div><!-- get_chunked_uploader-method -->

      
        <div id="get_file-method" class="method-detail ">
          <a name="method-i-get_file"></a>

          
          <div class="method-heading">
            <span class="method-name">get_file</span><span
              class="method-args">(from_path, rev=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Download a file</p>

<p>Args:</p>
<ul><li>
<p><tt>from_path</tt>: The path to the file to be downloaded</p>
</li><li>
<p><tt>rev</tt>: A previous revision value of the file to be downloaded</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>The file contents.</p>
</li></ul>
            

            
            <div class="method-source-code" id="get_file-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 876</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_file</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">rev</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get_file_impl</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">rev</span>)
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>, <span class="ruby-identifier">raw</span>=<span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_file-source -->
            
          </div>

          

          
        </div><!-- get_file-method -->

      
        <div id="get_file_and_metadata-method" class="method-detail ">
          <a name="method-i-get_file_and_metadata"></a>

          
          <div class="method-heading">
            <span class="method-name">get_file_and_metadata</span><span
              class="method-args">(from_path, rev=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Download a file and get its metadata.</p>

<p>Args:</p>
<ul><li>
<p><tt>from_path</tt>: The path to the file to be downloaded</p>
</li><li>
<p><tt>rev</tt>: A previous revision value of the file to be downloaded</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>The file contents.</p>
</li><li>
<p>The file metadata as a hash.</p>
</li></ul>
            

            
            <div class="method-source-code" id="get_file_and_metadata-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 890</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_file_and_metadata</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">rev</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">get_file_impl</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">rev</span>)
    <span class="ruby-identifier">parsed_response</span> = <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>, <span class="ruby-identifier">raw</span>=<span class="ruby-keyword">true</span>)
    <span class="ruby-identifier">metadata</span> = <span class="ruby-identifier">parse_metadata</span>(<span class="ruby-identifier">response</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">parsed_response</span>, <span class="ruby-identifier">metadata</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- get_file_and_metadata-source -->
            
          </div>

          

          
        </div><!-- get_file_and_metadata-method -->

      
        <div id="media-method" class="method-detail ">
          <a name="method-i-media"></a>

          
          <div class="method-heading">
            <span class="method-name">media</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns a direct link to a media file All of Dropbox’s API methods require
OAuth, which may cause problems in situations where an application expects
to be able to hit a URL multiple times (for example, a media player seeking
around a video file). This method creates a time-limited URL that can be
accessed without any authentication.</p>

<p>Arguments:</p>
<ul><li>
<p>path: The file to stream.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object that looks like the following:</p>

<pre>{'url': 'https://dl.dropboxusercontent.com/1/view/abcdefghijk/example', 'expires': 'Thu, 16 Sep 2011 01:01:25 +0000'}</pre>
</li></ul>
            

            
            <div class="method-source-code" id="media-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">media</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-node">&quot;/media/#{@root}#{format_path(path)}&quot;</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- media-source -->
            
          </div>

          

          
        </div><!-- media-method -->

      
        <div id="metadata-method" class="method-detail ">
          <a name="method-i-metadata"></a>

          
          <div class="method-heading">
            <span class="method-name">metadata</span><span
              class="method-args">(path, file_limit=25000, list=true, hash=nil, rev=nil, include_deleted=false)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Retrives metadata for a file or folder</p>

<p>Arguments:</p>
<ul><li>
<p>path: The path to the file or folder.</p>
</li><li>
<p>list: Whether to list all contained files (only applies when path refers to
a folder).</p>
</li><li>
<p>file_limit: The maximum number of file entries to return within a folder.
If the number of files in the directory exceeds this limit, an exception is
raised. The server will return at max 25,000 files within a folder.</p>
</li><li>
<p>hash: Every directory listing has a hash parameter attached that can then
be passed back into this function later to save on bandwidth. Rather than
returning an unchanged folder’s contents, if the hash matches a <a
href="DropboxNotModified.html">DropboxNotModified</a> exception is raised.</p>
</li><li>
<p>rev: Optional. The revision of the file to retrieve the metadata for. This
parameter only applies for files. If omitted, you’ll receive the most
recent revision metadata.</p>
</li><li>
<p>include_deleted: Specifies whether to include deleted files in metadata
results.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object with the metadata of the file or folder (and contained files
if appropriate).  For a detailed description of what this call returns,
visit: <a
href="https://www.dropbox.com/developers/reference/api#metadata">www.dropbox.com/developers/reference/api#metadata</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="metadata-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1040</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">metadata</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">file_limit</span>=<span class="ruby-value">25000</span>, <span class="ruby-identifier">list</span>=<span class="ruby-keyword">true</span>, <span class="ruby-identifier">hash</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">rev</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">include_deleted</span>=<span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">&quot;file_limit&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">file_limit</span>.<span class="ruby-identifier">to_s</span>,
        <span class="ruby-string">&quot;list&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">list</span>.<span class="ruby-identifier">to_s</span>,
        <span class="ruby-string">&quot;include_deleted&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">include_deleted</span>.<span class="ruby-identifier">to_s</span>,
        <span class="ruby-string">&quot;hash&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">hash</span>,
        <span class="ruby-string">&quot;rev&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">rev</span>,
    }

    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-node">&quot;/metadata/#{@root}#{format_path(path)}&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Net</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTPRedirection</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">DropboxNotModified</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;metadata not modified&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- metadata-source -->
            
          </div>

          

          
        </div><!-- metadata-method -->

      
        <div id="partial_chunked_upload-method" class="method-detail ">
          <a name="method-i-partial_chunked_upload"></a>

          
          <div class="method-heading">
            <span class="method-name">partial_chunked_upload</span><span
              class="method-args">(data, upload_id=nil, offset=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="partial_chunked_upload-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 858</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">partial_chunked_upload</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">upload_id</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">offset</span>=<span class="ruby-keyword">nil</span>)  <span class="ruby-comment">#:nodoc</span>
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">'upload_id'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">upload_id</span>,
        <span class="ruby-string">'offset'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">offset</span>,
    }
    <span class="ruby-identifier">headers</span> = {<span class="ruby-string">'Content-Type'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;application/octet-stream&quot;</span>}
    <span class="ruby-identifier">content_server</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_put</span> <span class="ruby-string">'/chunked_upload'</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">content_server</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- partial_chunked_upload-source -->
            
          </div>

          

          
        </div><!-- partial_chunked_upload-method -->

      
        <div id="put_file-method" class="method-detail ">
          <a name="method-i-put_file"></a>

          
          <div class="method-heading">
            <span class="method-name">put_file</span><span
              class="method-args">(to_path, file_obj, overwrite=false, parent_rev=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Uploads a file to a server.  This uses the HTTP PUT upload method for
simplicity</p>

<p>Args:</p>
<ul><li>
<p><tt>to_path</tt>: The directory path to upload the file to. If the
destination directory does not yet exist, it will be created.</p>
</li><li>
<p><tt>file_obj</tt>: A file-like object to upload. If you would like, you can
pass a string as file_obj.</p>
</li><li>
<p><tt>overwrite</tt>: Whether to overwrite an existing file at the given
path. [default is False] If overwrite is False and a file already exists
there, Dropbox will rename the upload to make sure it doesn't overwrite
anything. You must check the returned metadata to know what this new name
is. This field should only be True if your intent is to potentially clobber
changes to a file that you don't know about.</p>
</li><li>
<p><tt>parent_rev</tt>: The rev field from the 'parent' of this upload.
[optional] If your intent is to update the file at the given path, you
should pass the parent_rev parameter set to the rev value from the most
recent metadata you have of the existing file at that path. If the server
has a more recent version of the file at the specified path, it will
automatically rename your uploaded file, spinning off a conflict. Using
this parameter effectively causes the overwrite parameter to be ignored.
The file will always be overwritten if you send the most-recent parent_rev,
and it will never be overwritten you send a less-recent one.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>a Hash containing the metadata of the newly uploaded file.  The file may
have a different name if it conflicted.</p>
</li></ul>

<p>Simple Example</p>

<pre>client = DropboxClient(oauth2_access_token)
#session is a DropboxSession I've already authorized
client.put_file('/test_file_on_dropbox', open('/tmp/test_file'))</pre>

<p>This will upload the “/tmp/test_file” from my computer into the root of my
App’s app folder and call it “test_file_on_dropbox”. The file will not
overwrite any pre-existing file.</p>
            

            
            <div class="method-source-code" id="put_file-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 749</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">put_file</span>(<span class="ruby-identifier">to_path</span>, <span class="ruby-identifier">file_obj</span>, <span class="ruby-identifier">overwrite</span>=<span class="ruby-keyword">false</span>, <span class="ruby-identifier">parent_rev</span>=<span class="ruby-keyword">nil</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;/files_put/#{@root}#{format_path(to_path)}&quot;</span>
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">'overwrite'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">overwrite</span>.<span class="ruby-identifier">to_s</span>,
        <span class="ruby-string">'parent_rev'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">parent_rev</span>,
    }

    <span class="ruby-identifier">headers</span> = {<span class="ruby-string">&quot;Content-Type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;application/octet-stream&quot;</span>}
    <span class="ruby-identifier">content_server</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_put</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-identifier">file_obj</span>, <span class="ruby-identifier">content_server</span>

    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- put_file-source -->
            
          </div>

          

          
        </div><!-- put_file-method -->

      
        <div id="restore-method" class="method-detail ">
          <a name="method-i-restore"></a>

          
          <div class="method-heading">
            <span class="method-name">restore</span><span
              class="method-args">(path, rev)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Restore a file to a previous revision.</p>

<p>Arguments:</p>
<ul><li>
<p>path: The file to restore. Note that folders can’t be restored.</p>
</li><li>
<p>rev: A previous rev value of the file to be restored to.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object with a list the metadata of the file or folders restored For
a detailed description of what this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#search">www.dropbox.com/developers/reference/api#search</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="restore-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">restore</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rev</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">'rev'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">rev</span>.<span class="ruby-identifier">to_s</span>
    }

    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_post</span> <span class="ruby-node">&quot;/restore/#{@root}#{format_path(path)}&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- restore-source -->
            
          </div>

          

          
        </div><!-- restore-method -->

      
        <div id="revisions-method" class="method-detail ">
          <a name="method-i-revisions"></a>

          
          <div class="method-heading">
            <span class="method-name">revisions</span><span
              class="method-args">(path, rev_limit=1000)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Retrive revisions of a file</p>

<p>Arguments:</p>
<ul><li>
<p>path: The file to fetch revisions for. Note that revisions are not
available for folders.</p>
</li><li>
<p>rev_limit: The maximum number of file entries to return within a folder.
The server will return at max 1,000 revisions.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object with a list of the metadata of the all the revisions of all
matches files (up to rev_limit entries) For a detailed description of what
this call returns, visit: <a
href="https://www.dropbox.com/developers/reference/api#revisions">www.dropbox.com/developers/reference/api#revisions</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="revisions-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1094</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">revisions</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rev_limit</span>=<span class="ruby-value">1000</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">'rev_limit'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">rev_limit</span>.<span class="ruby-identifier">to_s</span>
    }

    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-node">&quot;/revisions/#{@root}#{format_path(path)}&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- revisions-source -->
            
          </div>

          

          
        </div><!-- revisions-method -->

      
        <div id="search-method" class="method-detail ">
          <a name="method-i-search"></a>

          
          <div class="method-heading">
            <span class="method-name">search</span><span
              class="method-args">(path, query, file_limit=1000, include_deleted=false)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Search directory for filenames matching query</p>

<p>Arguments:</p>
<ul><li>
<p>path: The directory to search within</p>
</li><li>
<p>query: The query to search on (3 character minimum)</p>
</li><li>
<p>file_limit: The maximum number of file entries to return/ If the number of
files exceeds this limit, an exception is raised. The server will return at
max 1,000</p>
</li><li>
<p>include_deleted: Whether to include deleted files in search results</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object with a list the metadata of the file or folders matching
query inside path.  For a detailed description of what this call returns,
visit: <a
href="https://www.dropbox.com/developers/reference/api#search">www.dropbox.com/developers/reference/api#search</a></p>
</li></ul>
            

            
            <div class="method-source-code" id="search-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1070</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">search</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">query</span>, <span class="ruby-identifier">file_limit</span>=<span class="ruby-value">1000</span>, <span class="ruby-identifier">include_deleted</span>=<span class="ruby-keyword">false</span>)
    <span class="ruby-identifier">params</span> = {
        <span class="ruby-string">'query'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">query</span>,
        <span class="ruby-string">'file_limit'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">file_limit</span>.<span class="ruby-identifier">to_s</span>,
        <span class="ruby-string">'include_deleted'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">include_deleted</span>.<span class="ruby-identifier">to_s</span>
    }

    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-node">&quot;/search/#{@root}#{format_path(path)}&quot;</span>, <span class="ruby-identifier">params</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- search-source -->
            
          </div>

          

          
        </div><!-- search-method -->

      
        <div id="shares-method" class="method-detail ">
          <a name="method-i-shares"></a>

          
          <div class="method-heading">
            <span class="method-name">shares</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get a URL to share a media file Shareable links created on Dropbox are
time-limited, but don’t require any authentication, so they can be given
out freely. The time limit should allow at least a day of shareability,
though users have the ability to disable a link from their account if they
like.</p>

<p>Arguments:</p>
<ul><li>
<p>path: The file to share.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>A Hash object that looks like the following example:</p>

<pre>{'url': 'https://db.tt/c0mFuu1Y', 'expires': 'Tue, 01 Jan 2030 00:00:00 +0000'}</pre>

<p>For a detailed description of what this call returns, visit:</p>

<pre>https://www.dropbox.com/developers/reference/api#shares</pre>
</li></ul>
            

            
            <div class="method-source-code" id="shares-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shares</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">response</span> = <span class="ruby-ivar">@session</span>.<span class="ruby-identifier">do_get</span> <span class="ruby-node">&quot;/shares/#{@root}#{format_path(path)}&quot;</span>
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- shares-source -->
            
          </div>

          

          
        </div><!-- shares-method -->

      
        <div id="thumbnail-method" class="method-detail ">
          <a name="method-i-thumbnail"></a>

          
          <div class="method-heading">
            <span class="method-name">thumbnail</span><span
              class="method-args">(from_path, size='large')</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Download a thumbnail for an image.</p>

<p>Arguments:</p>
<ul><li>
<p>from_path: The path to the file to be thumbnailed.</p>
</li><li>
<p>size: A string describing the desired thumbnail size. At this time, ‘small’
(32x32), ‘medium’ (64x64), ‘large’ (128x128), ‘s’ (64x64), ‘m’ (128x128),
‘l’ (640x640), and ‘xl’ (1024x1024) are officially supported sizes. Check
<a
href="https://www.dropbox.com/developers/reference/api#thumbnails">www.dropbox.com/developers/reference/api#thumbnails</a>
for more details. [defaults to large]</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>The thumbnail data</p>
</li></ul>
            

            
            <div class="method-source-code" id="thumbnail-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thumbnail</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">size</span>=<span class="ruby-string">'large'</span>)
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">thumbnail_impl</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">size</span>)
    <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>, <span class="ruby-identifier">raw</span>=<span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- thumbnail-source -->
            
          </div>

          

          
        </div><!-- thumbnail-method -->

      
        <div id="thumbnail_and_metadata-method" class="method-detail ">
          <a name="method-i-thumbnail_and_metadata"></a>

          
          <div class="method-heading">
            <span class="method-name">thumbnail_and_metadata</span><span
              class="method-args">(from_path, size='large')</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Download a thumbnail for an image along with the image’s metadata.</p>

<p>Arguments:</p>
<ul><li>
<p>from_path: The path to the file to be thumbnailed.</p>
</li><li>
<p>size: A string describing the desired thumbnail size. See thumbnail() for
details.</p>
</li></ul>

<p>Returns:</p>
<ul><li>
<p>The thumbnail data</p>
</li><li>
<p>The metadata for the image as a hash</p>
</li></ul>
            

            
            <div class="method-source-code" id="thumbnail_and_metadata-source">
<pre>
<span class="ruby-comment"># File build/dropbox-ruby-sdk-1.6.2/lib/dropbox_sdk.rb, line 1183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thumbnail_and_metadata</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">size</span>=<span class="ruby-string">'large'</span>)
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">thumbnail_impl</span>(<span class="ruby-identifier">from_path</span>, <span class="ruby-identifier">size</span>)
    <span class="ruby-identifier">parsed_response</span> = <span class="ruby-constant">Dropbox</span><span class="ruby-operator">::</span><span class="ruby-identifier">parse_response</span>(<span class="ruby-identifier">response</span>, <span class="ruby-identifier">raw</span>=<span class="ruby-keyword">true</span>)
    <span class="ruby-identifier">metadata</span> = <span class="ruby-identifier">parse_metadata</span>(<span class="ruby-identifier">response</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">parsed_response</span>, <span class="ruby-identifier">metadata</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- thumbnail_and_metadata-source -->
            
          </div>

          

          
        </div><!-- thumbnail_and_metadata-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

